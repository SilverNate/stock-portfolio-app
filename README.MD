# ğŸ“ˆ Stock Portofolio Monitoring System

A Spring Boot-based mini project to simulate stock portofolio management with real-time price updates, alerts, historical tracking, and clean microservice-style architecture.

---

## âœ… Features Covered

| Feature                             | Description                                                                 |
|-------------------------------------|-----------------------------------------------------------------------------|
| Spring IoC                          | Dependency injection and component-based architecture                       |
| Java Streams                        | Aggregation and summarization of user portfolio using Streams API          |
| Advanced Native SQL Queries         | Custom queries for reporting and performance                               |
| Containerization & Microservices    | Docker + docker-compose + modular structure                                 |
| Kafka & Stream-based Application    | Kafka listeners and producers for real-time updates                         |
| Redis, Caching & Data Grid          | Redis to cache current stock prices                                         |
| Elastic & Non-Relational DB (Mongo) | Elasticsearch for logging and MongoDB for additional storage (optional)     |
| SOLID & Clean Architecture          | Controller â†’ Service â†’ Repository pattern with interfaces and separation    |

---

## ğŸ“š Architecture

Follows Clean Architecture principles with **SOLID** design:
- **S**ingle Responsibility: services separated for each domain
- **O**pen/Closed: Interfaces abstract repositories/services
- **L**iskov Substitution: Interfaces used across services/controllers
- **I**nterface Segregation: Specific, minimal contracts
- **D**ependency Inversion: Service/repo interfaces injected by Spring IoC

---

## ğŸ“ Project Structure
```
stock-portfolio-app/
â”œâ”€â”€ stock-portfolio-service/
â”‚   â”œâ”€â”€  src/
â”‚   â”‚    â”œâ”€â”€ main/
â”‚   â”‚       â”œâ”€â”€ java/com/example/
â”‚   â”‚       â”‚   â”œâ”€â”€portfolio/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ config/                      # config
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ controller/                  # API controllers (Portfolio, Prices, Alerts, News)
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ dto/                         # DTO
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ model/                       # Models
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ repository/                  # JPA + native SQL repositories
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ service/                     # Business logic interfaces
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ simulator/                   # Simulator
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ elastic/                     # elastic search
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ PortfolopApplication.java    # Spring Boot application entry point
â”‚   â”‚       â”‚   â”œâ”€â”€ resources/
â”‚   â”‚       â”‚       â””â”€â”€ application.yml              # Spring Boot app config (dev/prod)
â”‚   â”‚       â”‚       â””â”€â”€ db/                          # db migration
â”‚   â”‚       â””â”€â”€ test/java/com/example/portfolio/     # Unit tests
â”‚   â”‚
â”‚   â”œâ”€â”€ pom.xml                                  # Maven dependencies
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ ci.yml                           # GitHub Actions CI pipeline
â”œâ”€â”€ docker-compose.yml                       # Docker setup for PostgreSQL, Redis, Kafka
â””â”€â”€ README.md                                # Project overview and documentation
```

---

## ğŸš€ API Endpoints

### ğŸ”¹ Portofolio

- `GET /api/portofolio/{userId}/summary`  
  Returns total investment and value using Java Stream.

### ğŸ”¹ Price & Historical

- `GET /api/price/{symbol}`  
  Get latest price from Redis.

- `POST /api/price/update`  
  Manually update stock price in Redis (simulates external feed).

- `GET /api/history/{symbol}`  
  Get historical stock prices.

### ğŸ”¹ Alerts

- `POST /api/alerts/rules`  
  Add alert rule (e.g., notify when AAPL > 200).

- Triggered by Kafka and stored in alert history.

### ğŸ”¹ News

- `POST /api/news`  
  Add latest stock-related news.

- `GET /api/news`  
  Retrieve latest news for frontend/mobile.

### ğŸ”¹ User portofolio

- `POST /api/user-portofolio`  
  Link user with stocks and quantities.

---

## ğŸ§ª Test & Run Locally
1. **Clone the Repo**
    ```bash
   git clone https://github.com/your-username/stock-portfolio-app.git
    cd stock-portfolio-app

2. **Run containers:**
   ```bash
   docker-compose up -d
3. **Build the APP**
    ```bash
    cd portfolio-service
    ./mvnw clean install

4. **Run Spring Boot App (JetBrains or Terminal):**
    ```bash
    ./mvnw spring-boot:run

## TESTING
```bash
    ./mvnw test
```
## KIBANA
```bash
  http://localhost:5601
  
GET alert-history/_search
{
  "query": {
    "match": {
      "symbol": "AAPL"
    }
  }
}
```



ğŸ¤ Contributing
1. Fork
2. Create feature branch
3. Submit pull request

ğŸ§  Author
Built with â¤ï¸ by @SilverNate





